import requests
import json

headers = {'User-Agent': 'Android5.0/yyting/unknown/Samsung Galaxy S6 - 5.0.0 - API 21 - 1440x2560/ch_wandoujia/138/AndroidHD'}

urls = ['http://43.243.130.55/yyting/bookclient/bookRecommendList.action?ids=%5B%2230234%22%2C%2228194%22%2C%2230425%22%2C%2229307%22%2C%2231545%22%2C%226130%22%2C%2227592%22%2C%2229085%22%2C%2229315%22%2C%2231681%22%2C%2231549%22%2C%2218253%22%2C%2231563%22%2C%2227208%22%2C%2228278%22%2C%2229949%22%2C%2229390%22%2C%2231280%22%2C%224958%22%2C%2231534%22%5D&imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&q=3627&sc=2f355e35401f050520d3597973c69e2d&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1',
       'http://43.243.130.55/yyting/bookclient/bookRecommendList.action?imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&p=1&q=3626&returnIds=1&sc=1e769f8033e6c7da9deac8cdcf36db93&size=20&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1&typeId=0',
       'http://43.243.130.55/yyting/bookclient/bookRecommendList.action?ids=%5B%2230234%22%2C%2228194%22%2C%2230425%22%2C%2229307%22%2C%2231545%22%2C%226130%22%2C%2227592%22%2C%2229085%22%2C%2229315%22%2C%2231681%22%2C%2231549%22%2C%2218253%22%2C%2231563%22%2C%2227208%22%2C%2228278%22%2C%2229949%22%2C%2229390%22%2C%2231280%22%2C%224958%22%2C%2231534%22%5D&imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&q=3627&sc=2f355e35401f050520d3597973c69e2d&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1',
       'http://43.243.130.55/yyting/bookclient/bookRecommendList.action?ids=%5B%2229386%22%2C%225559%22%2C%2230481%22%2C%2231519%22%2C%2228389%22%2C%2228380%22%2C%224034%22%2C%2231567%22%2C%2231524%22%2C%2229326%22%2C%2229681%22%2C%2231550%22%2C%2231568%22%2C%2231472%22%2C%2229376%22%2C%2228365%22%2C%2230978%22%2C%2229339%22%2C%2230882%22%2C%2227228%22%5D&imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&q=3628&sc=842ddd3c6cdccea5db506aee1b0d1c7d&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1',
       'http://43.243.130.55/yyting/bookclient/bookRecommendList.action?ids=%5B%2231552%22%2C%2229247%22%2C%2229389%22%2C%2231565%22%2C%2229343%22%2C%226608%22%2C%226477%22%2C%2231679%22%2C%221370%22%2C%2231533%22%2C%2227952%22%2C%2231602%22%2C%2231554%22%2C%2231583%22%2C%2231525%22%2C%2231637%22%2C%2231597%22%2C%2231587%22%2C%2231541%22%2C%2231258%22%5D&imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&q=3629&sc=353b7c11191db18670bc56b7d7723986&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1',
       'http://43.243.130.55/yyting/bookclient/bookRecommendList.action?ids=%5B%2231527%22%2C%2231570%22%2C%2231635%22%2C%2231668%22%2C%2231538%22%2C%2231666%22%2C%2231537%22%2C%2231547%22%2C%2231580%22%2C%2231578%22%2C%2231571%22%2C%2231531%22%2C%2231535%22%2C%2231574%22%2C%2231529%22%2C%2231557%22%2C%2231626%22%2C%2231633%22%2C%2231630%22%2C%2231539%22%5D&imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&q=3630&sc=e4f2d402dab2a162acc807a3091c4b33&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1',
       'http://43.243.130.55/yyting/bookclient/bookRecommendList.action?ids=%5B%2231474%22%2C%2231518%22%2C%2231628%22%2C%2231581%22%2C%2231641%22%2C%2231543%22%2C%2231594%22%2C%2231540%22%2C%2231542%22%2C%2231484%22%2C%2231478%22%2C%2231658%22%2C%2231588%22%2C%2231551%22%2C%2231603%22%2C%2231598%22%2C%2231589%22%2C%2231573%22%2C%2231560%22%2C%226479%22%5D&imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&q=3631&sc=345cf7e17e46ae864c6f0b44d6cfb406&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1',
       'http://43.243.130.55/yyting/bookclient/bookRecommendList.action?ids=%5B%2218311%22%2C%2218304%22%2C%2229374%22%2C%2229316%22%2C%2229822%22%2C%2229375%22%2C%222722%22%2C%2231740%22%2C%2228366%22%2C%2230523%22%2C%2230521%22%2C%2230444%22%2C%2228072%22%2C%223492%22%2C%2229587%22%2C%2231964%22%2C%2227986%22%2C%2230044%22%2C%2228227%22%2C%2227936%22%5D&imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&q=3632&sc=e13f3dd02de1e6afa646f076595306db&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1',
       'http://43.243.130.55/yyting/bookclient/bookRecommendList.action?ids=%5B%2228714%22%2C%2230241%22%2C%225861%22%2C%2227250%22%2C%226504%22%2C%2228193%22%2C%225844%22%2C%225866%22%2C%2228707%22%2C%2228708%22%2C%2228747%22%2C%2228399%22%2C%2228704%22%2C%2228712%22%2C%2230209%22%2C%2228387%22%2C%2228485%22%2C%2229842%22%2C%2222162%22%2C%2222077%22%5D&imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&q=3633&sc=1ea6573b51e3a096b10a3edcb0ee5055&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1',
       'http://43.243.130.55/yyting/bookclient/bookRecommendList.action?ids=%5B%2228186%22%2C%2231714%22%2C%2231724%22%2C%2230206%22%2C%2231780%22%2C%2227861%22%2C%2223399%22%2C%2223623%22%2C%2223627%22%2C%2229870%22%2C%2228189%22%2C%2222147%22%2C%2222112%22%2C%2231336%22%2C%2231793%22%2C%2231627%22%2C%2231532%22%2C%2231522%22%2C%2228784%22%2C%2231887%22%5D&imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&q=3634&sc=e605a7a1981c4d366b7e84646a380ca7&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1',
       'http://43.243.130.55/yyting/bookclient/bookRecommendList.action?ids=%5B%221761%22%5D&imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&q=3635&sc=8d745645f4ca9e248937672ca02626ef&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1']


#urls = ['http://43.243.130.55/yyting/bookclient/bookRecommendList.action?imei=MDAwMDAwMDAwMDAwMDAw&nwt=1&p=1&q=3626&returnIds=1&sc=1e769f8033e6c7da9deac8cdcf36db93&size=20&token=-kPx1dJy6AaQ64xAZevz0-Br5a2z63QiIXd55tBxgoE*&type=1&typeId=0']

# pagecode = requests.get(url, headers=headers)
#
# page = (json.loads(pagecode.content))['list']
#
# for id in page:
#     print id['id']
ids = []

for url in urls:
    pagecode = requests.get(url, headers=headers)
    page = (json.loads(pagecode.content))['list']
    for id in page:
        ids.append(id['id'])

print len(ids)

